<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>task18</title>
	<style type="text/css">
		.queue{
			display:flex;
			justify-content:flex-start;
			align-items:flex-end;
		}
		.number{
			width:30px;
			height:30px;
			background-color: red;
			color: #fff;
			border:none;
			margin:10px;
		}
	</style>
	<script type="text/javascript">
		window.onload = function(){
			var li = document.getElementById('leftin'),
				ri = document.getElementById('rightin'),
				lo = document.getElementById('leftout'),
				ro = document.getElementById('rightout'),
				div = document.getElementsByClassName('queue')[0],
				inp = document.getElementsByTagName('input')[0];
			li.onclick = function(){
				var num = document.createElement('button');
				num.style.height = inp.value + 'px' ;
				num.className = 'number' ;
				if (div.childNodes.length <= 60) {
					if (inp.value) {
						div.insertBefore(num,div.childNodes[0]);

						//每增加一个节点，对div的子节点进行冒泡排序
						for (var i = 0;i<div.childNodes.length-1;i++) {
							if (parseInt(div.childNodes[i].style.height, 10) > parseInt(div.childNodes[i+1].style.height, 10)) {
								var tem = div.childNodes[i].style.height;
								div.childNodes[i].style.height = div.childNodes[i+1].style.height;
								div.childNodes[i+1].style.height = tem ;
							}
						}
						num.onclick = function(){
							var re = div.removeChild(this);
							// alert(re.innerHTML);
						}
					}
				} else {
					alert('元素节点已经达到60个');
				}
			}
			ri.onclick = function(){
				var num = document.createElement('button');
				num.style.height = inp.value + 'px' ;
				num.className = 'number' ;
				if (div.childNodes.length <= 60) {
					if (inp.value) {
						div.appendChild(num);

						//每增加一个节点，对div的子节点进行冒泡排序
						for (var i = 0;i<div.childNodes.length-1;i++) {
							if (parseInt(div.childNodes[i].style.height, 10) > parseInt(div.childNodes[i+1].style.height, 10)) {
								var tem = div.childNodes[i].style.height;
								div.childNodes[i].style.height = div.childNodes[i+1].style.height;
								div.childNodes[i+1].style.height = tem ;
							}
						}
						num.onclick = function(){
							var re = div.removeChild(this);
							// alert(re.innerHTML);
						}
					}
				} else {
					alert('元素节点已经达到60个');
				}
			}
			lo.onclick = function(){
				if (div.hasChildNodes()) {
					var re = div.removeChild(div.childNodes[0]);
					alert(re.innerHTML);
				}
			}
			ro.onclick = function(){
				if (div.hasChildNodes()) {
					var re = div.removeChild(div.childNodes[div.childNodes.length-1]);
					alert(re.innerHTML);
				}
			}
		}
	</script>
</head>
<body>
	<input type="text">
	<button id="leftin">左侧入</button>
	<button id="rightin">右侧入</button>
	<button id="leftout">左侧出</button>
	<button id="rightout">右侧出</button>
	<div class="queue"></div>
</body>
</html>